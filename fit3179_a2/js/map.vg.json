{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 800,
  "height": 450,
  "title": "Shark Attacks across Australia from 1791 to 2024",
  "projection": {"type": "mercator"},
  "params": [
    {
      "name": "state_selection",
      "bind": {
        "input": "select",
        "options": [null, "New South Wales (NSW)", "Northern Territory (NT)", "Queensland (QLD)", "South Australia (SA)", "Tasmania (TAS)", "Victoria (VIC)", "Western Australia (WA)"],
        "labels": ["Show All", "New South Wales (NSW)", "Northern Territory (NT)", "Queensland (QLD)", "South Australia (SA)", "Tasmania (TAS)", "Victoria (VIC)", "Western Australia (WA)"],
        "name": "State Selection:"
      }
    },
    {
      "name": "injury_selection",
      "bind": {
        "input": "select",
        "options": [null, "Uninjured", "Injured", "Fatal"],
        "labels": ["All", "Uninjured", "Injured", "Fatal"],
        "name": "Victim Status Selection:"
      }
    },
    {
      "name": "year_progression",
      "value": 1791,
      "bind": {
        "input": "range",
        "min": 1791,
        "max": 2024,
        "step": 1,
        "name": "Year"

      }
    }
  ],
  "layer": [
    {
      "data": {
        "url": "https://raw.githubusercontent.com/Kendr1cK-Lee/fit3179/refs/heads/main/fit3179_a2/js/output_without_graticules.json",
        "format": {"type": "topojson", "feature": "au_eez_pol_april2022"}
      },
      "mark": {"type": "geoshape", "fill": "lightblue", "stroke": "lightblue"}
    },
    {
      "data": {
        "url": "https://raw.githubusercontent.com/Kendr1cK-Lee/fit3179/refs/heads/main/fit3179_a2/js/output_without_graticules.json",
        "format": {
          "type": "topojson",
          "feature": "ne_10m_admin_1_states_provinces"
        }
      },
      "mark": {"type": "geoshape", "fill": "lightgrey", "stroke": "white"}
    },
    {
      "data": {
        "url": "https://raw.githubusercontent.com/Kendr1cK-Lee/fit3179/refs/heads/main/fit3179_a2/data/Australian-Shark-Incident-Database-Public-Version.csv"
      },
      "transform": [
        {"filter": "state_selection == null || datum.STATE == state_selection"},
        {"filter": "injury_selection == null || datum.VICTIM_INJURY == injury_selection"},
        {"filter": "datum.INCIDENT_YEAR == year_progression"}
      ],
      "mark": {
        "type": "circle",
        "stroke": "black",
        "strokeWidth": 0.7
      },
      "encoding": {
        "longitude": {"field": "LONGITUDE", "type": "quantitative"},
        "latitude": {"field": "LATITUDE", "type": "quantitative"},
        "color": {
          "field": "VICTIM_INJURY",
          "type": "nominal",
          "scale": {
            "domain": [
              "Uninjured",
              "Injured",
              "Fatal"
            ],
            "range": [
              "#00A36C",
              "#FFA500",
              "#FF0000"
            ]
          },
          "title": "Victim Status"
        },
        "opacity": {
          "value": 0.8
        },
        "tooltip": [
          {"field": "INCIDENT_MONTH", "type": "nominal", "title": "Incident Month"},
          {"field": "INCIDENT_YEAR", "type": "quantitative", "title": "Incident Year"},
          {"field": "STATE", "type": "nominal", "title": "State"},
          {"field": "LATITUDE", "type": "quantitative", "format": ".7f", "title": "Latitude"},
          {"field": "LONGITUDE", "type": "quantitative", "format": ".7f", "title": "Longitude"},
          {"field": "VICTIM_INJURY", "type": "nominal", "title": "Victim Status"}
        ]
      }
    }
  ]
}